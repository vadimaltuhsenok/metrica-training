<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Тренировка Яндекс Метрики</title>
    <!-- Яндекс.Метрика -->
    <script type="text/javascript">
        (function(m,e,t,r,i,k,a){
            m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();
            for(var j=0;j<document.scripts.length;j++){
                if(document.scripts[j].src===r){return;}
            }
            k=e.createElement(t),a=e.getElementsByTagName(t)[0];
            k.async=1;
            k.src=r;
            a.parentNode.insertBefore(k,a);
        })(window,document,'script','https://mc.yandex.ru/metrika/tag.js','ym');

        ym(105952882,'init',{
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
    </script>
    <noscript>
        <div><img src="https://mc.yandex.ru/watch/105952882" style="position:absolute; left:-9999px;" alt="" /></div>
    </noscript>
</head>
<body>
    <h1>Тестовый сайт для тренировки Метрики</h1>

    <!-- Кнопка телефона -->
    <a href="tel:+375447715330" id="phone-btn">Позвонить</a>
    <br><br>

    <!-- Форма отправки номера -->
    <form id="number-form">
        <input type="text" id="phone-input" placeholder="Введите номер">
        <button type="submit">Отправить номер</button>
    </form>
    <br><br>

    <!-- Форма обратной связи -->
    <form id="contact-form">
        <input type="text" placeholder="Ваше имя">
        <input type="email" placeholder="Ваш email">
        <button type="submit">Отправить форму</button>
    </form>

    <script>
        // Проверка, что Метрика готова
        function sendGoal(goalName) {
            if (typeof ym === 'function') {
                ym(105952882, "reachGoal", goalName, {}, function() {
                    console.log("Цель " + goalName + " отправлена!");
                });
            } else {
                console.warn("Счётчик Яндекс.Метрики ещё не загрузился!");
            }
        }

        // Клик по телефону
        document.getElementById("phone-btn").addEventListener("click", function() {
            sendGoal("click_phone");
            alert("Звонок на номер +375447715330!");
        });

        // Отправка номера
        document.getElementById("number-form").addEventListener("submit", function(e) {
            e.preventDefault();
            sendGoal("send_number");
            alert("Номер отправлен!");
        });

        // Отправка формы обратной связи
        document.getElementById("contact-form").addEventListener("submit", function(e) {
            e.preventDefault();
            sendGoal("send_form");
            alert("Форма отправлена!");
        });
    </script>
</body>
</html>
